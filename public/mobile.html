<!DOCTYPE html>
<html>
    <head>
        <title>A3-Mobile</title>
        <script src="js/aframe-v0.8.2.min.js"></script>
        <script src="js/socket.io.min.js"></script>
    </head>
   
    <body>
        <script>

            function onSceneLoad(){
                document.querySelector('#box').addEventListener('click', function(e) {
                    console.log(e);
                    createEl(e);
                });
                document.querySelector('#sphere').addEventListener('click', function(e) {
                    console.log(e);
                    createEl(e);
                });
                document.querySelector('#cylinder').addEventListener('click', function(e) {
                    console.log(e);
                    createEl(e);
                });
            };
            function createEl(e){
                console.log('Creating new shape');
                let newEl = document.createElement('a-' + e.target.id);
                let data = {id: e.target.id};
                socket.emit('newShape', {description: data});
                //obj.setAttribute('height',  ntw_objs[i].rotation);
            };
            
            let socket = io();
            //default connect event
            socket.on('connect', function() {
                console.log("connected!");
            });
    
            socket.on('requestSmall', function(data) {
                console.log('Small boi');
            });

        </script>



        <a-scene>
            <!---------------- CAMERA ---------------->
            <a-entity id="cameraRig" position="0 1 0" rotation="0 0 0">
                <a-camera id="sceneCamera">
                    <a-entity id="cursor" cursor="rayOrigin: mouse" position="0 0 -1"></a-entity>
                </a-camera>
            </a-entity>

            <!---------------- A-FRAME ENTITIES ---------------->

            <a-box id="box" position="7 7 -6" ></a-box>
            <a-sphere id="sphere" position="7 4.5 -6"></a-sphere>
            <a-cylinder id="cylinder" position="7 2 -6"></a-cylinder>
            
            <!-- GROUND & SKY -->
            <a-plane static-body id="ground" position="0 0 5" width="30" height="30" rotation="-90 0 0" color="#a5a5a5" shadow></a-plane> 
                                
            <a-sky color="#bfd7ff" ></a-sky>
        </a-scene>



        <script>
                document.querySelector('a-scene').addEventListener('loaded', onSceneLoad);
        </script>
    </body> 
</html>